(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{6193:function(e,t,r){"use strict";var n=r(5893),o=r(8595),s=r(267);t.Z=function(e){var t=e.children,r=e.imagePath;return(0,n.jsxs)("div",{className:"masthead",style:{backgroundImage:"url(".concat(r,")")},children:[(0,n.jsx)("div",{className:"overlay"}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(s.Z,{children:(0,n.jsx)("div",{className:"col-lg-8 col-md-10 mx-auto",children:(0,n.jsx)("div",{className:"site-heading",children:t})})})})]})}},5748:function(e,t,r){"use strict";var n=r(7294),o=r(1163);t.Z=function(e){var t=e.to,r=e.ssr,s=(0,o.useRouter)();return(0,n.useEffect)((function(){r?window.location.pathname=t:s.push(t)}),[]),null}},7378:function(e,t,r){"use strict";r.d(t,{sS:function(){return d},XP:function(){return h},B4:function(){return b},JN:function(){return g}});var n=r(6156),o=r(2949),s=r(9669),c=r.n(s),i=r(9593),a=r(5723);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){return c().post("/api/v1/blogs",e)},p=function(e,t){return c().patch("/api/v1/blogs/".concat(e),t)},d=function(){return(0,i.k)(f)},h=function(){return(0,i.k)(p)},b=function(e){var t=(0,a.ZP)(e?"/api/v1/blogs/".concat(e):null,i._),r=t.data,n=t.error;return l({data:r,error:n,loading:!r&&!n},(0,o.Z)(t,["data","error"]))},g=function(){var e=(0,a.ZP)("/api/v1/blogs/me",i._),t=e.data,r=e.error;return l({data:t,error:r,loading:!t&&!r},(0,o.Z)(e,["data","error"]))}},5874:function(e,t,r){"use strict";var n=r(6156),o=r(5893),s=r(3205),c=r(5748),i=r(1051);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.Z=function(e){return function(t){return function(r){var u=(0,s.p)(),l=u.data,f=u.loading;return f?(0,o.jsx)("p",{children:"Loading..."}):l?t&&!(0,i.QO)(l,t)?(0,o.jsx)(c.Z,{ssr:!0,to:"/api/v1/login"}):(0,o.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({user:l,loading:f},r)):(0,o.jsx)(c.Z,{ssr:!0,to:"/api/v1/login"})}}}},1592:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return J}});var n=r(5893),o=r(7757),s=r.n(o),c=r(2137),i=r(3391),a=r(3299),u=r(4301),l=r(5874),f=r(7975),p=r(267),d=r(1252),h=r(6193),b=r(6156);function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var m=r(3349);function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?(0,m.Z)(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=r(7294),x=r(2866),P=r(8227),Z=r(2122),_=r(5697),N=r.n(_),k=r(6704),E={children:N().node},D=function(e){return w.createElement(k.Z,(0,Z.Z)({group:!0},e))};D.propTypes=E;var S=D,T=r(2842);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return j(this,r)}}var z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,r,o,s=R(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).toggle=t.toggle.bind((0,m.Z)(t)),t.state={dropdownOpen:!1},t}return t=c,(r=[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"renderMenu",value:function(e){return(0,n.jsx)(x.Z,{children:e.map((function(e){return(0,n.jsx)(P.Z,M(M({},e.handlers),{},{children:e.text}),e.key)}))})}},{key:"render",value:function(){var e=this.props.items;return(0,n.jsxs)(S,{className:"port-dropdown",isOpen:this.state.dropdownOpen,toggle:this.toggle,children:[(0,n.jsx)(T.Z,{caret:!0,size:"sm"}),this.renderMenu(e)]})}}])&&g(t.prototype,r),o&&g(t,o),c}(w.Component),B=r(1664),X=r(7378),G=r(9249),J=(0,l.Z)((function(e){var t=e.user,r=e.loading,o=(0,X.XP)(),l=(0,i.Z)(o,1)[0],b=(0,X.JN)(),g=b.data,m=b.mutate,y=function(){var e=(0,c.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t,{status:r}).then((function(){return m()})).catch((function(){return G.Am.error("Something went wrong...")}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(e){var t="draft"===e.status?{view:"Publish Story",value:"published"}:{view:"Make a Draft",value:"draft"};return[{key:"".concat(e._id,"-published"),text:t.view,handlers:{onClick:function(){return y(e._id,t.value)}}},{key:"".concat(e._id,"-delete"),text:"Delete",handlers:{onClick:function(){return y(e._id,"deleted")}}}]},j=function(e,t){return(0,n.jsx)("ul",{className:"user-blogs-list",children:e&&e.filter((function(e){return e.status===t})).map((function(e){return(0,n.jsxs)("li",{children:[(0,n.jsx)(B.default,{href:"/blogs/editor/[id]",as:"/blogs/editor/".concat(e._id),children:(0,n.jsx)("a",{children:e.title})}),(0,n.jsx)(z,{items:v(e)})]},e._id)}))})};return(0,n.jsxs)(a.Z,{navClass:"transparent",user:t,loading:r,children:[(0,n.jsxs)(h.Z,{imagePath:"/images/home-bg.jpg",children:[(0,n.jsx)("h1",{children:"Blogs Dashboard"}),(0,n.jsxs)("span",{className:"subheading",children:["Let's write some nice blog today"," ",(0,n.jsx)(B.default,{href:"/blogs/editor",children:(0,n.jsx)(f.Z,{color:"primary",children:"Create a new Blog"})})]})]}),(0,n.jsx)(u.Z,{className:"blog-user-page",children:(0,n.jsxs)(p.Z,{children:[(0,n.jsxs)(d.Z,{md:"6",className:"mx-auto text-center",children:[(0,n.jsx)("h2",{className:"blog-status-title",children:" Published Blogs "}),j(g,"published")]}),(0,n.jsxs)(d.Z,{md:"6",className:"mx-auto text-center",children:[(0,n.jsx)("h2",{className:"blog-status-title",children:" Draft Blogs "}),j(g,"draft")]})]})})]})}))("admin")},9704:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(1592)}])},1252:function(e,t,r){"use strict";var n=r(2122),o=r(9756),s=r(7294),c=r(5697),i=r.n(c),a=r(4184),u=r.n(a),l=r(3663),f=i().oneOfType([i().number,i().string]),p=i().oneOfType([i().bool,i().number,i().string,i().shape({size:i().oneOfType([i().bool,i().number,i().string]),order:f,offset:f})]),d={tag:l.iC,xs:p,sm:p,md:p,lg:p,xl:p,className:i().string,cssModule:i().object,widths:i().array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},b=function(e,t,r){return!0===r||""===r?e?"col":"col-"+t:"auto"===r?e?"col-auto":"col-"+t+"-auto":e?"col-"+r:"col-"+t+"-"+r},g=function(e){var t=e.className,r=e.cssModule,c=e.widths,i=e.tag,a=(0,o.Z)(e,["className","cssModule","widths","tag"]),f=[];c.forEach((function(t,n){var o=e[t];if(delete a[t],o||""===o){var s=!n;if((0,l.Kn)(o)){var c,i=s?"-":"-"+t+"-",p=b(s,t,o.size);f.push((0,l.mx)(u()(((c={})[p]=o.size||""===o.size,c["order"+i+o.order]=o.order||0===o.order,c["offset"+i+o.offset]=o.offset||0===o.offset,c)),r))}else{var d=b(s,t,o);f.push(d)}}})),f.length||f.push("col");var p=(0,l.mx)(u()(t,f),r);return s.createElement(i,(0,n.Z)({},a,{className:p}))};g.propTypes=d,g.defaultProps=h,t.Z=g},267:function(e,t,r){"use strict";var n=r(2122),o=r(9756),s=r(7294),c=r(5697),i=r.n(c),a=r(4184),u=r.n(a),l=r(3663),f=i().oneOfType([i().number,i().string]),p={tag:l.iC,noGutters:i().bool,className:i().string,cssModule:i().object,form:i().bool,xs:f,sm:f,md:f,lg:f,xl:f},d={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e){var t=e.className,r=e.cssModule,c=e.noGutters,i=e.tag,a=e.form,f=e.widths,p=(0,o.Z)(e,["className","cssModule","noGutters","tag","form","widths"]),d=[];f.forEach((function(t,r){var n=e[t];if(delete p[t],n){var o=!r;d.push(o?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var h=(0,l.mx)(u()(t,c?"no-gutters":null,a?"form-row":"row",d),r);return s.createElement(i,(0,n.Z)({},p,{className:h}))};h.propTypes=p,h.defaultProps=d,t.Z=h}},function(e){e.O(0,[774,471,93,703,545,888,179],(function(){return t=9704,e(e.s=t);var t}));var t=e.O();_N_E=t}]);